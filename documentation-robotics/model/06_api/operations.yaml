b6b9b9f8-68da-414a-a28c-26ed00a49486:
  id: b6b9b9f8-68da-414a-a28c-26ed00a49486
  name: Health Check
  type: operation
  layer: api
  documentation: Returns server status and version information
  properties:
    method: GET
    path: /health
    description: Returns server status and version
    responses:
      "200":
        description: Server is healthy
        content:
          application/json:
            schema:
              type: object
              properties:
                status:
                  type: string
                version:
                  type: string
    x-archimate-ref:
      - api.interface.reference-api
    x-protected-by:
      - security.permission.access-api-endpoints
    x-response-schema:
      - data-model.object-schema.health-check-response
    source:
      reference:
        provenance: manual
        locations:
          - file: server/index.cjs
            symbol: healthCheckHandler
    __elementId__: api.operation.health-check
82fae27c-3d09-444e-80c1-2a059c7b073b:
  id: 82fae27c-3d09-444e-80c1-2a059c7b073b
  name: Get Specification
  type: operation
  layer: api
  documentation: Returns the current JSON Schema specification
  properties:
    method: GET
    path: /api/spec
    description: Returns the current JSON Schema specification
    responses:
      "200":
        description: Specification data
      "404":
        description: Schema directory not found
    x-archimate-ref:
      - application.service.json-schema-parser
    x-protected-by:
      - security.permission.read-model-files
      - security.countermeasure.path-validation
    x-response-schema:
      - data_model.object-schema.spec-collection
    source:
      reference:
        provenance: manual
        locations:
          - file: server/index.cjs
            symbol: getSpecHandler
    __elementId__: api.operation.get-spec
634c8a2b-9f72-46ee-9889-9127f8e909ad:
  id: 634c8a2b-9f72-46ee-9889-9127f8e909ad
  name: Get Model
  type: operation
  layer: api
  documentation: Returns the current model in viewer-compatible format
  properties:
    method: GET
    path: /api/model
    description: Returns the current model in viewer-compatible format
    responses:
      "200":
        description: Model data
      "404":
        description: Model manifest not found
    x-archimate-ref:
      - application.service.data-loader
    x-protected-by:
      - security.permission.read-model-files
      - security.countermeasure.path-validation
      - security.countermeasure.input-sanitization
    x-response-schema: data_model.object-schema.meta-model
    source:
      reference:
        provenance: manual
        locations:
          - file: server/index.cjs
            symbol: getModelHandler
    __elementId__: api.operation.get-model
ce07c3d1-232b-4265-a0cb-82c7c96c7ba7:
  id: ce07c3d1-232b-4265-a0cb-82c7c96c7ba7
  name: List Changesets
  type: operation
  layer: api
  documentation: Returns a list of all available changesets
  properties:
    method: GET
    path: /api/changesets
    description: Returns a list of all available changesets
    responses:
      "200":
        description: List of changesets
    x-archimate-ref:
      - application.service.yaml-parser
    x-protected-by:
      - security.permission.read-model-files
      - security.countermeasure.path-validation
    x-response-schema: data_model.array-schema.changesets
    source:
      reference:
        provenance: manual
        locations:
          - file: server/index.cjs
            symbol: listChangesetsHandler
    __elementId__: api.operation.list-changesets
61e4c37e-98a6-426b-8242-0d1fc37f8443:
  id: 61e4c37e-98a6-426b-8242-0d1fc37f8443
  name: Get Changeset
  type: operation
  layer: api
  documentation: Returns details for a specific changeset
  properties:
    method: GET
    path: /api/changesets/{changeset_id}
    description: Returns details for a specific changeset
    parameters:
      - name: changeset_id
        in: path
        required: true
        schema:
          type: string
    responses:
      "200":
        description: Changeset details
      "404":
        description: Changeset not found
    x-archimate-ref:
      - application.service.yaml-parser
    x-protected-by:
      - security.permission.read-model-files
      - security.countermeasure.path-validation
      - security.countermeasure.input-sanitization
    x-response-schema: data_model.object-schema.changeset
    source:
      reference:
        provenance: manual
        locations:
          - file: server/index.cjs
            symbol: getChangesetHandler
    __elementId__: api.operation.get-changeset
6eb8679a-06cf-4b04-9b78-bf3ba1693f6f:
  id: 6eb8679a-06cf-4b04-9b78-bf3ba1693f6f
  name: Get Annotations
  type: operation
  layer: api
  documentation: Returns annotations, optionally filtered by element ID
  properties:
    method: GET
    path: /api/annotations
    description: Returns annotations, optionally filtered by element ID
    parameters:
      - name: elementId
        in: query
        required: false
        schema:
          type: string
    responses:
      "200":
        description: List of annotations
    x-archimate-ref:
      - application.service.demo-data-service
    x-protected-by:
      - security.permission.access-api-endpoints
      - security.countermeasure.output-encoding
    x-response-schema: data_model.array-schema.annotations
    source:
      reference:
        provenance: manual
        locations:
          - file: server/index.cjs
            symbol: getAnnotationsHandler
    __elementId__: api.operation.get-annotations
4a05ed06-f56c-464d-a535-e41ea5c0ee7d:
  id: 4a05ed06-f56c-464d-a535-e41ea5c0ee7d
  name: Get GitHub Releases
  type: operation
  layer: api
  documentation: Fetches all spec releases from GitHub repository
  properties:
    method: GET
    path: /api/github/releases
    description: Fetches all spec releases from GitHub repository
    openapi: 3.0.3
    info:
      title: GitHub Releases API
      version: 1.0.0
    paths:
      /api/github/releases:
        get:
          summary: Fetches all spec releases from GitHub repository
          operationId: getGitHubReleases
          responses:
            "200":
              description: List of releases
              content:
                application/json:
                  schema:
                    type: array
                    items:
                      type: object
                      properties:
                        tag_name:
                          type: string
                        name:
                          type: string
                        assets:
                          type: array
            "500":
              description: Failed to fetch releases
    x-archimate-ref:
      - application.service.git-hub-service
    x-protected-by:
      - security.permission.access-api-endpoints
      - security.countermeasure.input-sanitization
    x-response-schema:
      - data-model.object-schema.github-release-list
    source:
      reference:
        provenance: manual
        locations:
          - file: server/index.cjs
            symbol: getGitHubReleasesHandler
    __elementId__: api.operation.get-github-releases
0d59a7bd-f91c-4a0b-a7c9-acbb2447294d:
  id: 0d59a7bd-f91c-4a0b-a7c9-acbb2447294d
  name: Get Latest GitHub Release
  type: operation
  layer: api
  documentation: Fetches the latest spec release from GitHub
  properties:
    method: GET
    path: /api/github/releases/latest
    description: Fetches the latest spec release from GitHub repository
    openapi: 3.0.3
    info:
      title: GitHub Latest Release API
      version: 1.0.0
    paths:
      /api/github/releases/latest:
        get:
          summary: Fetches the latest spec release
          operationId: getLatestGitHubRelease
          responses:
            "200":
              description: Latest release object
              content:
                application/json:
                  schema:
                    type: object
                    properties:
                      tag_name:
                        type: string
                      name:
                        type: string
                      assets:
                        type: array
            "404":
              description: No spec releases found
            "500":
              description: Failed to fetch release
    x-archimate-ref:
      - application.service.git-hub-service
    x-protected-by:
      - security.permission.access-api-endpoints
      - security.countermeasure.input-sanitization
    x-response-schema:
      - data_model.object-schema.github-release
    source:
      reference:
        provenance: manual
        locations:
          - file: server/index.cjs
            symbol: getLatestReleaseHandler
    __elementId__: api.operation.get-latest-github-release
c429082f-3b4d-4c06-b2ef-53ef23f1f400:
  id: c429082f-3b4d-4c06-b2ef-53ef23f1f400
  name: Get GitHub Release by Tag
  type: operation
  layer: api
  documentation: Fetches a specific release by tag name from GitHub
  properties:
    method: GET
    path: /api/github/releases/{tag}
    description: Fetches a specific release by tag name from GitHub
    openapi: 3.0.3
    info:
      title: GitHub Release by Tag API
      version: 1.0.0
    paths:
      /api/github/releases/{tag}:
        get:
          summary: Fetches a specific release by tag
          operationId: getGitHubReleaseByTag
          parameters:
            - name: tag
              in: path
              required: true
              schema:
                type: string
          responses:
            "200":
              description: Release object with details and assets
              content:
                application/json:
                  schema:
                    type: object
            "404":
              description: Release not found
            "500":
              description: Failed to fetch release
    x-archimate-ref:
      - application.service.git-hub-service
    x-protected-by:
      - security.permission.access-api-endpoints
      - security.countermeasure.input-sanitization
      - security.countermeasure.path-validation
    x-response-schema:
      - data_model.object-schema.github-release
    __elementId__: api.operation.get-github-release-by-tag
e4f4d7b9-7f35-4257-9ee6-f8e67dd4591c:
  id: e4f4d7b9-7f35-4257-9ee6-f8e67dd4591c
  name: Download GitHub Schema ZIP
  type: operation
  layer: api
  documentation: Proxies download of schema ZIP from GitHub to avoid CORS
  properties:
    method: GET
    path: /api/github/download/{tag}
    description: Proxies download of schema ZIP from GitHub release asset to avoid CORS
    openapi: 3.0.3
    info:
      title: GitHub Schema Download API
      version: 1.0.0
    paths:
      /api/github/download/{tag}:
        get:
          summary: Downloads schema ZIP from GitHub release
          operationId: downloadGitHubSchemaZip
          parameters:
            - name: tag
              in: path
              required: true
              schema:
                type: string
          responses:
            "200":
              description: ZIP file binary stream
              content:
                application/zip:
                  schema:
                    type: string
                    format: binary
            "404":
              description: Release or asset not found
            "500":
              description: Failed to download
    x-archimate-ref:
      - application.service.git-hub-service
    x-protected-by:
      - security.permission.access-api-endpoints
      - security.countermeasure.input-sanitization
    __elementId__: api.operation.download-github-schema-zip
9a5ba048-a74e-4354-9346-2dc214041141:
  id: 9a5ba048-a74e-4354-9346-2dc214041141
  name: Get Example Implementation
  type: operation
  layer: api
  documentation: Serves the example-implementation model YAML files as JSON
  properties:
    method: GET
    path: /api/example-implementation
    description: Serves the example-implementation model YAML files as JSON
    openapi: 3.0.3
    info:
      title: Example Implementation API
      version: 1.0.0
    paths:
      /api/example-implementation:
        get:
          summary: Serves example implementation model
          operationId: getExampleImplementation
          responses:
            "200":
              description: Dictionary of file paths to YAML content
              content:
                application/json:
                  schema:
                    type: object
                    additionalProperties:
                      type: string
            "404":
              description: Example implementation not found
            "500":
              description: Failed to serve example implementation
    x-archimate-ref:
      - application.service.yaml-parser
      - application.service.data-loader
    x-protected-by:
      - security.permission.access-api-endpoints
      - security.countermeasure.input-sanitization
    __elementId__: api.operation.get-example-implementation
df5767d9-faad-4072-a321-e9f33cdf96fe:
  id: df5767d9-faad-4072-a321-e9f33cdf96fe
  name: WebSocket Connection
  type: operation
  layer: api
  documentation: Main WebSocket endpoint for live model updates
  properties:
    method: GET
    path: /ws
    protocol: websocket
    description: Main WebSocket endpoint for live updates
    messages:
      server-to-client:
        - connected
        - subscribed
        - pong
        - model.updated
        - changeset.created
        - annotation.added
      client-to-server:
        - subscribe
        - ping
    x-archimate-ref:
      - api.interface.reference-api
    x-protected-by:
      - security.permission.websocket-permission
      - security.countermeasure.websocket-origin-validation
      - security.countermeasure.message-validation
    source:
      reference:
        provenance: manual
        locations:
          - file: server/index.cjs
            symbol: websocketHandler
    __elementId__: api.operation.websocket-connect
0d080be2-4930-4f3c-b702-0241e00ca6dd:
  id: 0d080be2-4930-4f3c-b702-0241e00ca6dd
  name: Get Link Registry
  type: operation
  layer: api
  documentation: Returns cross-layer link type catalog with validation rules and
    cardinality constraints
  properties:
    method: GET
    path: /api/link-registry
    protocol: rest
    x-archimate-ref:
      - application.service.cross-layer-reference-resolver
    x-response-schema:
      - data_model.object-schema.link-type
    __elementId__: api.operation.get-link-registry
3429807d-8250-4048-bde3-4c05facfb54e:
  id: 3429807d-8250-4048-bde3-4c05facfb54e
  name: Create Annotation
  type: operation
  layer: api
  documentation: Creates new user annotation on model element with author,
    content, and timestamp
  properties:
    method: POST
    path: /api/annotations
    protocol: rest
    x-archimate-ref:
      - application.service.demo-data-service
    x-request-schema:
      - data_model.object-schema.annotation
    x-response-schema: data_model.object-schema.annotation
    source:
      reference:
        provenance: manual
        locations:
          - file: server/index.cjs
            symbol: createAnnotationHandler
    x-request-body: data_model.object-schema.annotation-input
    __elementId__: api.operation.create-annotation
04a1514d-cbc7-4f06-8b3a-13c68295b1e0:
  id: 04a1514d-cbc7-4f06-8b3a-13c68295b1e0
  name: Changeset Created Event
  type: operation
  layer: api
  documentation: WebSocket event broadcast when new changeset is created on the server
  properties:
    direction: server-to-client
    channel: /ws
    protocol: websocket
    x-archimate-ref:
      - application.service.yaml-parser
    x-payload-schema:
      - data-model.object-schema.changeset-summary
      - data-model.object-schema.changeset-created-event
    __elementId__: api.operation.changeset-created
af650653-cd54-4a01-b2a3-ed93b5300353:
  id: af650653-cd54-4a01-b2a3-ed93b5300353
  name: Annotation Added Event
  type: operation
  layer: api
  documentation: WebSocket event broadcast when annotation is added to an element by any user
  properties:
    direction: server-to-client
    channel: /ws
    protocol: websocket
    x-archimate-ref:
      - application.service.demo-data-service
    x-payload-schema:
      - data-model.object-schema.annotation
      - data-model.object-schema.annotation-added-event
    __elementId__: api.operation.annotation-added
f5e4d993-33f3-47ec-ad02-e0f1d50cb5e0:
  id: f5e4d993-33f3-47ec-ad02-e0f1d50cb5e0
  name: Subscribed Event
  type: operation
  layer: api
  documentation: WebSocket confirmation event sent after client subscribes to update topics
  properties:
    direction: server-to-client
    channel: /ws
    protocol: websocket
    x-payload-schema:
      - data-model.object-schema.subscribed-event
    __elementId__: api.operation.subscribed
747b1870-e389-4019-bea7-f58765559292:
  id: 747b1870-e389-4019-bea7-f58765559292
  name: Pong Event
  type: operation
  layer: api
  documentation: WebSocket heartbeat response to client ping for connection
    keepalive monitoring
  properties:
    direction: server-to-client
    channel: /ws
    protocol: websocket
    x-payload-schema:
      - data-model.object-schema.pong-message
    __elementId__: api.operation.pong
a4660333-d094-4125-9a59-3ac7c3bdb5b9:
  id: a4660333-d094-4125-9a59-3ac7c3bdb5b9
  name: Ping Command
  type: operation
  layer: api
  documentation: Client WebSocket heartbeat message for connection keepalive
    monitoring and timeout detection
  properties:
    direction: client-to-server
    channel: /ws
    protocol: websocket
    x-payload-schema:
      - data-model.object-schema.ping-message
    __elementId__: api.operation.ping
0400e2d3-39b3-43f9-8ad1-c701f9cfeb5b:
  id: 0400e2d3-39b3-43f9-8ad1-c701f9cfeb5b
  name: REST Mode Fallback
  type: operation
  layer: api
  documentation: Client event emitted when WebSocket is unavailable, triggering
    fallback to REST polling
  properties:
    direction: client-event
    protocol: client-side
    __elementId__: api.operation.rest-mode
79772e55-6945-43bd-a373-d10519e3fde4:
  id: 79772e55-6945-43bd-a373-d10519e3fde4
  name: Update Annotation
  type: operation
  layer: api
  documentation: Updates existing annotation content, author, or resolution status
  properties:
    method: PUT
    path: /api/annotations/{annotation_id}
    protocol: rest
    parameters:
      - name: annotation_id
        in: path
        required: true
        schema:
          type: string
    responses:
      "200":
        description: Annotation updated successfully
      "400":
        description: Invalid annotation data
      "404":
        description: Annotation not found
    x-archimate-ref:
      - application.service.demo-data-service
    x-protected-by:
      - security.permission.access-api-endpoints
    x-request-schema:
      - data_model.object-schema.annotation
    x-response-schema: data_model.object-schema.annotation
    x-request-body: data_model.object-schema.annotation-update
    __elementId__: api.operation.update-annotation
185b0725-4cdc-4014-a553-493d884daa1c:
  id: 185b0725-4cdc-4014-a553-493d884daa1c
  name: Delete Annotation
  type: operation
  layer: api
  documentation: Deletes annotation by ID with cascade to related data
  properties:
    method: DELETE
    path: /api/annotations/{annotation_id}
    protocol: rest
    parameters:
      - name: annotation_id
        in: path
        required: true
        schema:
          type: string
    responses:
      "204":
        description: Annotation deleted successfully
      "403":
        description: Insufficient permissions to delete
      "404":
        description: Annotation not found
    x-archimate-ref:
      - application.service.demo-data-service
    x-protected-by:
      - security.permission.access-api-endpoints
    __elementId__: api.operation.delete-annotation
b51d4603-7443-459e-83b7-2b7cbb6e3e19:
  id: b51d4603-7443-459e-83b7-2b7cbb6e3e19
  name: Create Changeset
  type: operation
  layer: api
  documentation: Creates new changeset for isolated model modifications
  properties:
    method: POST
    path: /api/changesets
    protocol: rest
    responses:
      "201":
        description: Changeset created successfully
      "400":
        description: Invalid changeset data
    x-archimate-ref:
      - application.service.yaml-parser
    x-protected-by:
      - security.permission.read-model-files
    x-request-schema:
      - data_model.object-schema.changeset-summary
    x-response-schema:
      - data_model.object-schema.changeset-details
    __elementId__: api.operation.create-changeset
4cd50b37-8630-4e80-b93e-84213c88f36a:
  id: 4cd50b37-8630-4e80-b93e-84213c88f36a
  name: Apply Changeset
  type: operation
  layer: api
  documentation: Applies changeset to main model and broadcasts update via WebSocket
  properties:
    method: POST
    path: /api/changesets/{changeset_id}/apply
    protocol: rest
    parameters:
      - name: changeset_id
        in: path
        required: true
        schema:
          type: string
    responses:
      "200":
        description: Changeset applied successfully
      "404":
        description: Changeset not found
      "409":
        description: Conflict with current model state
    x-archimate-ref:
      - application.service.yaml-parser
    x-protected-by:
      - security.permission.read-model-files
    x-response-schema:
      - data_model.object-schema.model-response
    __elementId__: api.operation.apply-changeset
