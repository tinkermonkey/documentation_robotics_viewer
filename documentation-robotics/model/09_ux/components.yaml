# UX Layer - Component Definitions
# Documentation Robotics v0.6.0
# Extracted from React codebase - major reusable UI components

# Layout Components
shared-layout:
  id: ux.component.shared-layout
  name: SharedLayout
  type: custom
  description: Three-column responsive layout wrapper with conditional sidebars (left 256px, main flex-1, right 320px)
  category: layout
  technology: react
  file: src/apps/embedded/components/SharedLayout.tsx
  props:
    showLeftSidebar: boolean
    showRightSidebar: boolean
    leftSidebarContent: ReactNode
    rightSidebarContent: ReactNode
    children: ReactNode

embedded-layout:
  id: ux.component.embedded-layout
  name: EmbeddedLayout
  type: custom
  description: Main application shell with header, main tab navigation, sub-tab navigation, and connection status indicator
  category: layout
  technology: react
  file: src/apps/embedded/EmbeddedLayout.tsx
  features:
    - Main tab navigation (Spec, Model, Motivation, Architecture, Changesets)
    - Sub-tab navigation (Graph/JSON switchers)
    - WebSocket connection management
    - View preference persistence

# Core Viewer Components
graph-viewer:
  id: ux.component.graph-viewer
  name: GraphViewer
  type: custom
  description: Core React Flow-based graph visualization component with pan, zoom, minimap, and layer filtering
  category: visualization
  technology: react-flow
  file: src/core/components/GraphViewer.tsx
  interactions:
    - Pan and zoom graph canvas
    - Select nodes
    - Filter by layer
    - Fit view to screen
    - Toggle minimap
  performance:
    - Viewport culling for 500+ nodes
    - Web Worker layout calculation
    - 60fps pan/zoom target

c4-graph-view:
  id: ux.component.c4-graph-view
  name: C4GraphView
  type: custom
  description: C4 architecture graph viewer with hierarchical drill-down (System → Container → Component) and technology filtering
  category: visualization
  technology: react-flow
  file: src/apps/embedded/components/C4GraphView.tsx
  interactions:
    - Drill down to container/component level
    - Filter by container type
    - Filter by technology stack
    - Trace upstream/downstream dependencies
    - Change layout algorithm (hierarchical, force-directed, radial)
  realizes:
    - application.component.c4-view-transformer

motivation-graph-view:
  id: ux.component.motivation-graph-view
  name: MotivationGraphView
  type: custom
  description: Motivation layer graph with element type filtering, relationship filtering, and path tracing capabilities
  category: visualization
  technology: react-flow
  file: src/apps/embedded/components/MotivationGraphView.tsx
  interactions:
    - Filter by element type (goal, requirement, principle, constraint, stakeholder)
    - Filter by relationship type
    - Trace upstream influences
    - Trace downstream impacts
    - Focus on element with direct relationships
    - Show network (radial layout from selected node)
  realizes:
    - application.component.motivation-graph-builder

model-json-viewer:
  id: ux.component.model-json-viewer
  name: ModelJSONViewer
  type: custom
  description: Interactive JSON viewer with syntax highlighting, collapsible sections, path navigation, and schema info integration
  category: visualization
  technology: react
  file: src/apps/embedded/components/ModelJSONViewer.tsx
  interactions:
    - Expand/collapse JSON sections
    - Navigate to specific path
    - View schema definitions
    - Highlight path (3 second auto-clear)
    - Filter by layer

spec-viewer:
  id: ux.component.spec-viewer
  name: SpecViewer
  type: custom
  description: DR specification JSON viewer with schema navigation and relationship mapping
  category: visualization
  technology: react
  file: src/apps/embedded/components/SpecViewer.tsx

spec-graph-view:
  id: ux.component.spec-graph-view
  name: SpecGraphView
  type: custom
  description: Graph visualization of DR specification structure showing entity relationships
  category: visualization
  technology: react-flow
  file: src/apps/embedded/components/SpecGraphView.tsx

changeset-graph-view:
  id: ux.component.changeset-graph-view
  name: ChangesetGraphView
  type: custom
  description: Graph view of changeset showing added/modified/removed elements with operation indicators
  category: visualization
  technology: react-flow
  file: src/apps/embedded/components/ChangesetGraphView.tsx

changeset-viewer:
  id: ux.component.changeset-viewer
  name: ChangesetViewer
  type: list
  description: Detailed list view of changeset contents with element metadata and operation types
  category: data-display
  technology: react
  file: src/apps/embedded/components/ChangesetViewer.tsx

# Navigation Components
sub-tab-navigation:
  id: ux.component.sub-tab-navigation
  name: SubTabNavigation
  type: custom
  description: Secondary navigation tabs for view switching (Graph/JSON, Graph/List)
  category: navigation
  technology: react
  file: src/apps/embedded/components/SubTabNavigation.tsx

c4-breadcrumb-nav:
  id: ux.component.c4-breadcrumb-nav
  name: C4BreadcrumbNav
  type: custom
  description: Hierarchical breadcrumb navigation for C4 view levels (System > Container > Component)
  category: navigation
  technology: react
  file: src/apps/embedded/components/C4BreadcrumbNav.tsx

motivation-breadcrumb:
  id: ux.component.motivation-breadcrumb
  name: MotivationBreadcrumb
  type: custom
  description: Breadcrumb navigation for motivation layer with element type indicators
  category: navigation
  technology: react
  file: src/apps/embedded/components/MotivationBreadcrumb.tsx

# Sidebar Components
model-layers-sidebar:
  id: ux.component.model-layers-sidebar
  name: ModelLayersSidebar
  type: custom
  description: Layer selector sidebar showing all 12 DR layers with selection state
  category: navigation
  technology: react
  file: src/apps/embedded/components/ModelLayersSidebar.tsx
  interactions:
    - Select layer to filter model view
    - Clear layer selection

spec-schemas-sidebar:
  id: ux.component.spec-schemas-sidebar
  name: SpecSchemasSidebar
  type: custom
  description: Schema browser sidebar for navigating DR specification entity types
  category: navigation
  technology: react
  file: src/apps/embedded/components/spec/SpecSchemasSidebar.tsx

changeset-list:
  id: ux.component.changeset-list
  name: ChangesetList
  type: list
  description: List of available changesets with metadata (ID, timestamp, element count)
  category: data-display
  technology: react
  file: src/apps/embedded/components/ChangesetList.tsx
  interactions:
    - Select changeset to view details

c4-right-sidebar:
  id: ux.component.c4-right-sidebar
  name: C4RightSidebar
  type: custom
  description: Comprehensive control sidebar for C4 view with filters, controls, inspector, and export options
  category: control
  technology: react
  file: src/apps/embedded/components/C4RightSidebar.tsx
  contains:
    - ux.component.c4-filter-panel
    - ux.component.c4-control-panel
    - ux.component.c4-inspector-panel

motivation-right-sidebar:
  id: ux.component.motivation-right-sidebar
  name: MotivationRightSidebar
  type: custom
  description: Comprehensive control sidebar for motivation view with filters, controls, inspector, and export options
  category: control
  technology: react
  file: src/apps/embedded/components/MotivationRightSidebar.tsx
  contains:
    - ux.component.motivation-filter-panel
    - ux.component.motivation-control-panel
    - ux.component.motivation-inspector-panel

# Panel Components
annotation-panel:
  id: ux.component.annotation-panel
  name: AnnotationPanel
  type: custom
  description: Annotation creation and display panel for collaborative documentation
  category: collaboration
  technology: react
  file: src/apps/embedded/components/AnnotationPanel.tsx
  interactions:
    - Add new annotation
    - View existing annotations
    - WebSocket real-time sync

schema-info-panel:
  id: ux.component.schema-info-panel
  name: SchemaInfoPanel
  type: custom
  description: Panel displaying schema definition information for selected elements
  category: information
  technology: react
  file: src/apps/embedded/components/SchemaInfoPanel.tsx

node-details-panel:
  id: ux.component.node-details-panel
  name: NodeDetailsPanel
  type: custom
  description: Detailed information panel for selected graph node showing properties and metadata
  category: information
  technology: react
  file: src/apps/embedded/components/NodeDetailsPanel.tsx

graph-statistics-panel:
  id: ux.component.graph-statistics-panel
  name: GraphStatisticsPanel
  type: custom
  description: Statistics panel showing element counts, layer distribution, and model metrics
  category: information
  technology: react
  file: src/apps/embedded/components/GraphStatisticsPanel.tsx

highlighted-path-panel:
  id: ux.component.highlighted-path-panel
  name: HighlightedPathPanel
  type: custom
  description: Panel showing currently highlighted JSON path (3 second auto-clear)
  category: information
  technology: react
  file: src/apps/embedded/components/HighlightedPathPanel.tsx

layer-types-legend:
  id: ux.component.layer-types-legend
  name: LayerTypesLegend
  type: custom
  description: Visual legend showing element types and their colors for the current model
  category: information
  technology: react
  file: src/apps/embedded/components/LayerTypesLegend.tsx

# Control Panels
c4-control-panel:
  id: ux.component.c4-control-panel
  name: C4ControlPanel
  type: custom
  description: Control panel for C4 view with layout selection, view level navigation, and view controls
  category: control
  technology: react
  file: src/apps/embedded/components/C4ControlPanel.tsx
  interactions:
    - Change layout algorithm (hierarchical, force-directed, radial, circular)
    - Navigate view levels (system, container, component)
    - Fit view
    - Toggle focus mode
    - Clear highlighting
    - Export (PNG, SVG, JSON)

c4-filter-panel:
  id: ux.component.c4-filter-panel
  name: C4FilterPanel
  type: custom
  description: Filter panel for C4 view with container type and technology stack filtering
  category: control
  technology: react
  file: src/apps/embedded/components/C4FilterPanel.tsx
  interactions:
    - Toggle container type visibility
    - Toggle technology stack visibility
    - Clear all filters

c4-inspector-panel:
  id: ux.component.c4-inspector-panel
  name: C4InspectorPanel
  type: custom
  description: Detailed inspector panel for selected C4 element with metadata and actions
  category: information
  technology: react
  file: src/apps/embedded/components/C4InspectorPanel.tsx
  interactions:
    - View element details
    - Trace upstream dependencies
    - Trace downstream dependencies
    - Drill down (if container)
    - Close inspector

motivation-control-panel:
  id: ux.component.motivation-control-panel
  name: MotivationControlPanel
  type: custom
  description: Control panel for motivation view with layout selection and view controls
  category: control
  technology: react
  file: src/apps/embedded/components/MotivationControlPanel.tsx
  interactions:
    - Change layout algorithm (hierarchical, force-directed, radial, circular, tree)
    - Fit view
    - Toggle focus mode
    - Clear highlighting
    - Export (PNG, SVG, JSON, traceability report)

motivation-filter-panel:
  id: ux.component.motivation-filter-panel
  name: MotivationFilterPanel
  type: custom
  description: Filter panel for motivation view with element type and relationship type filtering
  category: control
  technology: react
  file: src/apps/embedded/components/MotivationFilterPanel.tsx
  interactions:
    - Toggle element type visibility (goal, requirement, principle, constraint, stakeholder)
    - Toggle relationship type visibility
    - Clear all filters

motivation-inspector-panel:
  id: ux.component.motivation-inspector-panel
  name: MotivationInspectorPanel
  type: custom
  description: Detailed inspector panel for selected motivation element with relationship analysis
  category: information
  technology: react
  file: src/apps/embedded/components/MotivationInspectorPanel.tsx
  interactions:
    - View element details
    - Trace upstream influences
    - Trace downstream impacts
    - Show network (radial from element)
    - Focus on element
    - Close inspector

# Context Menus
motivation-context-menu:
  id: ux.component.motivation-context-menu
  name: MotivationContextMenu
  type: custom
  description: Right-click context menu for motivation graph nodes with navigation and analysis actions
  category: interaction
  technology: react
  file: src/apps/embedded/components/MotivationContextMenu.tsx
  interactions:
    - Trace upstream
    - Trace downstream
    - Show network
    - Focus on element

# Utility Components
connection-status:
  id: ux.component.connection-status
  name: ConnectionStatus
  type: custom
  description: WebSocket connection status indicator with reconnection feedback
  category: utility
  technology: react
  file: src/apps/embedded/components/ConnectionStatus.tsx
  states:
    - Connected (green)
    - Disconnected (red)
    - Reconnecting (yellow with attempt count)

graph-toolbar:
  id: ux.component.graph-toolbar
  name: GraphToolbar
  type: custom
  description: Floating toolbar for graph view controls (zoom, fit, reset)
  category: control
  technology: react
  file: src/apps/embedded/components/GraphToolbar.tsx

minimap:
  id: ux.component.minimap
  name: MiniMap
  type: custom
  description: Mini-map overview of graph with viewport indicator
  category: navigation
  technology: react-flow
  file: src/apps/embedded/components/MiniMap.tsx

operation-legend:
  id: ux.component.operation-legend
  name: OperationLegend
  type: custom
  description: Legend showing changeset operation types (added, modified, removed)
  category: information
  technology: react
  file: src/apps/embedded/components/OperationLegend.tsx

error-boundary:
  id: ux.component.error-boundary
  name: ErrorBoundary
  type: custom
  description: React error boundary for graceful error handling and display
  category: utility
  technology: react
  file: src/apps/embedded/components/ErrorBoundary.tsx
