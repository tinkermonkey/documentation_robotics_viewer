import{r as w,j as o}from"./iframe-DSSgKmXl.js";import{H as s,P as a}from"./index-DzsatpJz.js";import{R as S}from"./RelationshipBadge-BEAv2yu2.js";function k(t){switch(t){case"add":return{border:"#10b981",bg:"#d1fae5",opacity:1};case"update":return{border:"#f59e0b",bg:"#fef3c7",opacity:1};case"delete":return{border:"#ef4444",bg:"#fee2e2",opacity:.6}}}function z(t){const{layout:m="centered"}=t,h=w.memo(({data:l,id:L})=>{var f,g;let i=l.stroke||t.defaultStroke,d=l.fill||t.defaultFill,p=l.opacity!==void 0?l.opacity:1;const b=l.changesetOperation;if(b){const e=k(b);i=e.border,d=e.bg,p=e.opacity}const j=p<1,x=t.shouldShowIcon?t.shouldShowIcon(l):!0,u=((f=t.getAriaLabel)==null?void 0:f.call(t,l))??`${t.typeLabel}: ${l.label}`,c=(((g=t.getBadges)==null?void 0:g.call(t,l))??[]).filter(e=>e!=null),v=c.filter(e=>e.position==="top-left"),y=c.filter(e=>e.position==="top-right"),n=c.filter(e=>e.position==="inline");return m==="left"?o.jsxs("div",{role:"article","aria-label":u,style:{width:t.width,height:t.height,display:"flex",flexDirection:"column",fontFamily:"system-ui, sans-serif",border:`2px ${t.borderStyle??"solid"} ${i}`,backgroundColor:d,borderRadius:8,padding:12,opacity:p,position:"relative"},children:[o.jsx(s,{type:"target",position:a.Top,id:"top",style:{background:"#555"}}),o.jsx(s,{type:"source",position:a.Bottom,id:"bottom",style:{background:"#555"}}),o.jsx(s,{type:"target",position:a.Left,id:"left",style:{background:"#555"}}),o.jsx(s,{type:"source",position:a.Right,id:"right",style:{background:"#555"}}),y.map((e,r)=>o.jsx("div",{role:"status","aria-label":e.ariaLabel,style:{position:"absolute",top:6,right:6,fontSize:9,textTransform:"uppercase",color:e.colors.text,fontWeight:"bold",letterSpacing:"0.5px",backgroundColor:e.colors.bg,padding:"2px 6px",borderRadius:3},children:e.label},r)),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[x&&t.icon&&o.jsx("div",{style:{fontSize:16},children:t.icon}),o.jsx("div",{style:{fontSize:14,fontWeight:600,color:"#1f2937",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},title:l.label,children:l.label})]}),o.jsx("div",{style:{fontSize:10,textTransform:"uppercase",color:i,fontWeight:"bold",letterSpacing:"0.5px",marginBottom:n.length>0?8:0},children:t.typeLabel}),n.length>0&&o.jsx("div",{style:{display:"flex",gap:4,flexWrap:"wrap"},children:n.map((e,r)=>o.jsx("div",{"aria-label":e.ariaLabel,style:{fontSize:10,padding:"2px 6px",background:e.colors.bg,borderRadius:4,color:e.colors.text,fontWeight:600},title:e.label,children:e.label},r))})]}):o.jsxs("div",{role:"article","aria-label":u,style:{width:t.width,height:t.height,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontFamily:"system-ui, sans-serif",border:`2px ${t.borderStyle??"solid"} ${i}`,backgroundColor:d,borderRadius:8,padding:12,textAlign:"center",opacity:p,position:"relative"},children:[o.jsx(s,{type:"target",position:a.Top,id:"top",style:{left:"50%",background:i,width:8,height:8}}),o.jsx(s,{type:"source",position:a.Bottom,id:"bottom",style:{left:"50%",background:i,width:8,height:8}}),o.jsx(s,{type:"target",position:a.Left,id:"left",style:{top:"50%",background:i,width:8,height:8}}),o.jsx(s,{type:"source",position:a.Right,id:"right",style:{top:"50%",background:i,width:8,height:8}}),v.map((e,r)=>e.circle?o.jsx("div",{role:"status","aria-label":e.ariaLabel,style:{position:"absolute",top:8,left:8,width:10,height:10,borderRadius:"50%",backgroundColor:e.colors.text,border:"2px solid rgba(255,255,255,0.8)"},title:e.label},r):o.jsx("div",{role:"status","aria-label":e.ariaLabel,style:{position:"absolute",top:6,left:6,width:20,height:20,fontSize:12,color:e.colors.text,backgroundColor:e.colors.bg,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:e.label},r)),y.map((e,r)=>o.jsx("div",{role:"status","aria-label":e.ariaLabel,style:{position:"absolute",top:6,right:6,fontSize:9,textTransform:"uppercase",color:e.colors.text,fontWeight:"bold",letterSpacing:"0.5px",backgroundColor:e.colors.bg,padding:"2px 6px",borderRadius:3},children:e.label},r)),x&&t.icon&&o.jsx("div",{style:{fontSize:28,marginBottom:8},children:t.icon}),o.jsx("div",{style:{fontSize:14,fontWeight:600,color:"#1f2937",wordBreak:"break-word"},children:l.label}),n.length>0&&o.jsx("div",{style:{display:"flex",gap:4,flexWrap:"wrap",justifyContent:"center",marginTop:4},children:n.map((e,r)=>o.jsx("div",{role:"status","aria-label":e.ariaLabel,style:{fontSize:10,textTransform:"uppercase",color:e.colors.text,fontWeight:"bold",letterSpacing:"0.5px",backgroundColor:e.colors.bg,padding:"2px 8px",borderRadius:4},children:e.label},r))}),o.jsx("div",{style:{position:"absolute",bottom:6,fontSize:9,textTransform:"uppercase",color:"#6b7280",fontWeight:600,letterSpacing:"0.5px"},children:t.typeLabel}),l.relationshipBadge&&o.jsx(S,{badge:l.relationshipBadge,isDimmed:j})]})});return h.displayName=`${t.typeLabel}Node`,h}export{z as c};
