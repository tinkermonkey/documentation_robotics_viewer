import{r as u,j as x}from"./iframe-DSSgKmXl.js";import{B as v}from"./Button-DjdbHWkm.js";const c=({service:r,containerSelector:p,filenamePrefix:d,data:s,formats:l=["png","svg"],disabled:f=!1,onExportComplete:n,onExportError:i})=>{const[g,m]=u.useState(null),h=u.useCallback(async e=>{m(e);try{const t=document.querySelector(p);if(!t)throw new Error(`Container not found with selector: ${p}`);const o=Date.now(),a=`${d}-${o}.${e}`;switch(e){case"json":if(!r.exportAsJSON)throw new Error("JSON export is not supported by this service");if(!s)throw new Error("No data provided for JSON export");r.exportAsJSON(s,a);break;case"png":await r.exportAsPNG(t,a);break;case"svg":await r.exportAsSVG(t,a);break}n==null||n(e),console.log(`[ExportButtonGroup] ${e.toUpperCase()} export successful: ${a}`)}catch(t){const o=t instanceof Error?t:new Error("Export failed");i==null||i(e,o),console.error(`[ExportButtonGroup] ${e.toUpperCase()} export failed:`,o)}finally{m(null)}},[p,d,s,r,n,i]),w=l.includes("png"),b=l.includes("svg"),y=l.includes("json")&&r.exportAsJSON&&!!s,N=g!==null,S=[{format:"png",show:w,label:"PNG",ariaLabel:"Export as PNG image"},{format:"svg",show:b,label:"SVG",ariaLabel:"Export as SVG image"},{format:"json",show:y,label:"JSON",ariaLabel:"Export as JSON data"}];return x.jsx("div",{className:"flex gap-2","data-testid":"export-button-group",role:"group","aria-label":"Export controls",children:S.map(({format:e,show:t,label:o,ariaLabel:a})=>t&&x.jsx(v,{onClick:()=>h(e),disabled:f||N,color:"gray",size:"sm","data-testid":`export-${e}-button`,"aria-label":a,className:"dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-white",children:g===e?"Exporting...":o},e))})};c.displayName="ExportButtonGroup";u.memo(c);c.__docgenInfo={description:`Reusable export button group component
Provides PNG/SVG/JSON export with loading states and error handling`,methods:[],displayName:"ExportButtonGroup",props:{service:{required:!0,tsType:{name:"ExportService"},description:"Export service instance with export methods"},containerSelector:{required:!0,tsType:{name:"string"},description:"CSS selector for the container to export (e.g., '.graph-container')"},filenamePrefix:{required:!0,tsType:{name:"string"},description:"Prefix for generated filenames (e.g., 'architecture-view')"},data:{required:!1,tsType:{name:"unknown"},description:"Optional data for JSON export"},formats:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"('png' | 'svg' | 'json')[]"},description:"Which export formats to show (default: ['png', 'svg'])",defaultValue:{value:"['png', 'svg']",computed:!1}},disabled:{required:!1,tsType:{name:"boolean"},description:"Disable all export buttons",defaultValue:{value:"false",computed:!1}},onExportComplete:{required:!1,tsType:{name:"signature",type:"function",raw:"(format: string) => void",signature:{arguments:[{type:{name:"string"},name:"format"}],return:{name:"void"}}},description:"Callback when export completes successfully"},onExportError:{required:!1,tsType:{name:"signature",type:"function",raw:"(format: string, error: Error) => void",signature:{arguments:[{type:{name:"string"},name:"format"},{type:{name:"Error"},name:"error"}],return:{name:"void"}}},description:"Callback when export fails"}}};
