import{r as v,j as e}from"./iframe-DSSgKmXl.js";import{w as y,a as C}from"./RenderPropErrorBoundary-C5UeOkUJ.js";import{B as m}from"./Button-DjdbHWkm.js";import{X as f}from"./x-BvdhAmd6.js";import{C as p}from"./Card-dBO4-pIe.js";import{B as w}from"./Badge-4uEMzFcW.js";import{c as k}from"./createLucideIcon-CIvKt9yE.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],q=k("arrow-down",E);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],$=k("arrow-up",B);function T(R){const{selectedNodeId:a,graph:s,onClose:g,renderElementDetails:I,renderRelationshipBadge:c,getNodeName:N,getEdgeType:j,quickActions:x,renderCrossLayerLinks:b,title:u="Inspector",className:h="",testId:r="inspector-panel"}=R,n=a&&(s!=null&&s.nodes)?s.nodes.get(a)??null:null;if(!a)return e.jsxs("div",{"data-testid":r,className:`flex flex-col h-full bg-white dark:bg-gray-900 ${h}`,children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:u}),e.jsx(m,{color:"gray",size:"xs",onClick:g,pill:!0,"data-testid":`${r}-close-button`,"aria-label":"Close inspector",children:e.jsx(f,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No element selected"})})]});if(!n)return console.warn(`[BaseInspectorPanel] Invalid node ID: "${a}" not found in graph. This may indicate: (1) invalid node ID passed from parent, (2) graph data corruption, (3) race condition where node was deleted between selection and rendering, or (4) type coercion error.`),e.jsxs("div",{"data-testid":r,className:`flex flex-col h-full bg-white dark:bg-gray-900 ${h}`,children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:u}),e.jsx(m,{color:"gray",size:"xs",onClick:g,pill:!0,"data-testid":`${r}-close-button`,"aria-label":"Close inspector",children:e.jsx(f,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4 gap-2",children:[e.jsx("p",{className:"text-sm font-semibold text-red-600 dark:text-red-400",children:"Element not found"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ID: ",a]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Check browser console for details"})]})]});const i=(s!=null&&s.edges?Array.from(s.edges.values()):[]).filter(t=>t.targetId===a),d=(s!=null&&s.edges?Array.from(s.edges.values()):[]).filter(t=>t.sourceId===a);return e.jsxs("div",{"data-testid":r,className:`flex flex-col h-full bg-white dark:bg-gray-900 overflow-y-auto ${h}`,children:[e.jsxs("div",{className:"flex justify-between items-center p-4 border-b dark:border-gray-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:u}),e.jsx(m,{color:"gray",size:"xs",onClick:g,pill:!0,"data-testid":`${r}-close-button`,"aria-label":"Close inspector",children:e.jsx(f,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex-1 p-4 space-y-4",children:[e.jsxs(p,{"data-testid":`${r}-element-details-card`,children:[e.jsx("h4",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:"Element Details"}),y(I,n,"renderElementDetails")]}),e.jsxs(p,{"data-testid":`${r}-relationships-card`,children:[e.jsxs("h4",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:["Relationships (",i.length+d.length,")"]}),i.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Incoming (",i.length,")"]}),e.jsx("ul",{className:"space-y-2",children:i.map(t=>{var o;const l=((o=s==null?void 0:s.nodes)==null?void 0:o.get(t.sourceId))??null;return e.jsxs("li",{className:"text-sm border-l-2 border-blue-400 pl-2",children:[c?y(c,t,"renderRelationshipBadge"):e.jsx(w,{color:"info",size:"sm",className:"mb-1",children:j(t)}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($,{className:"w-3 h-3 text-gray-500"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:l?N(l):t.sourceId})]})]},t.id)})})]}),d.length>0&&e.jsxs("div",{children:[e.jsxs("h5",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Outgoing (",d.length,")"]}),e.jsx("ul",{className:"space-y-2",children:d.map(t=>{var o;const l=((o=s==null?void 0:s.nodes)==null?void 0:o.get(t.targetId))??null;return e.jsxs("li",{className:"text-sm border-l-2 border-green-400 pl-2",children:[c?y(c,t,"renderRelationshipBadge"):e.jsx(w,{color:"success",size:"sm",className:"mb-1",children:j(t)}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(q,{className:"w-3 h-3 text-gray-500"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:l?N(l):t.targetId})]})]},t.id)})})]}),i.length===0&&d.length===0&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No relationships"})]}),x&&x.length>0&&e.jsxs(p,{"data-testid":`${r}-quick-actions-card`,children:[e.jsx("h4",{className:"text-lg font-semibold mb-3 text-gray-900 dark:text-white",children:"Quick Actions"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:x.filter(t=>!t.condition||t.condition(n)).map(t=>e.jsxs(m,{color:t.color||"gray",size:"sm",onClick:()=>t.onClick(n),title:t.description,"data-testid":t.testId||`${r}-quick-action-${t.id}`,className:"justify-start",children:[t.icon&&e.jsx("span",{className:"mr-2 inline-block w-4 h-4",children:t.icon}),t.title]},t.id))})]}),(()=>{if(!b)return null;const t=C(b,n,s,"renderCrossLayerLinks");return t?e.jsx(p,{"data-testid":`${r}-cross-layer-links-card`,children:t}):null})()]})]})}const A=v.memo(T);A.displayName="BaseInspectorPanel";T.__docgenInfo={description:`BaseInspectorPanel - Generic inspector panel component

Type parameters:
- TGraph: The graph structure type (must extend BaseGraph)
- TNode: The node type (must extend BaseNode)
- TEdge: The edge type (must extend BaseEdge)`,methods:[],displayName:"BaseInspectorPanelComponent",props:{selectedNodeId:{required:!0,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"Selected node ID"},graph:{required:!0,tsType:{name:"TGraph"},description:"Graph data source"},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:"Close handler"},renderElementDetails:{required:!0,tsType:{name:"signature",type:"function",raw:"(node: TNode) => React.ReactNode",signature:{arguments:[{type:{name:"TNode"},name:"node"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:"Render element details section"},renderRelationshipBadge:{required:!1,tsType:{name:"signature",type:"function",raw:"(edge: TEdge) => React.ReactNode",signature:{arguments:[{type:{name:"TEdge"},name:"edge"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:"Render relationship badge content (optional, defaults to edge type)"},getNodeName:{required:!0,tsType:{name:"signature",type:"function",raw:"(node: TNode) => string",signature:{arguments:[{type:{name:"TNode"},name:"node"}],return:{name:"string"}}},description:"Get display name for a node"},getEdgeType:{required:!0,tsType:{name:"signature",type:"function",raw:"(edge: TEdge) => string",signature:{arguments:[{type:{name:"TEdge"},name:"edge"}],return:{name:"string"}}},description:"Get edge relationship type for display"},quickActions:{required:!1,tsType:{name:"Array",elements:[{name:"QuickAction",elements:[{name:"TNode"}],raw:"QuickAction<TNode>"}],raw:"QuickAction<TNode>[]"},description:"Quick actions configuration"},renderCrossLayerLinks:{required:!1,tsType:{name:"signature",type:"function",raw:"(node: TNode, graph: TGraph) => React.ReactNode",signature:{arguments:[{type:{name:"TNode"},name:"node"},{type:{name:"TGraph"},name:"graph"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:"Optional cross-layer links renderer"},title:{required:!1,tsType:{name:"string"},description:'Panel title (default: "Inspector")'},className:{required:!1,tsType:{name:"string"},description:"CSS class for domain-specific styling"},testId:{required:!1,tsType:{name:"string"},description:'data-testid for E2E tests (default: "inspector-panel")'}}};export{$ as A,A as B,q as a};
