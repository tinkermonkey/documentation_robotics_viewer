import{r as g,j as s}from"./iframe-DSSgKmXl.js";import{H as r,P as l}from"./index-DzsatpJz.js";const x=200,c=80,m=200,b=24,y=40,h=200,p=g.memo(({data:e,id:t,expandedNodes:u=new Set,onToggleExpanded:d})=>{var a;const i=t?u.has(t):!1,n=e.subprocessCount&&e.subprocessCount>0,f=i&&n?Math.max(m,c+(((a=e.subprocesses)==null?void 0:a.length)||0)*b+y):c;return s.jsxs("div",{role:"article","aria-label":`Business Process: ${e.label}${e.owner?`, owner: ${e.owner}`:""}${e.criticality?`, criticality: ${e.criticality}`:""}`,"aria-expanded":i,className:"business-process-node",style:{width:x,minHeight:f,display:"flex",flexDirection:"column",fontFamily:"system-ui, sans-serif",border:`2px solid ${e.stroke||"#e65100"}`,backgroundColor:e.fill||"#fff3e0",borderRadius:8,padding:12,transition:`min-height ${h}ms ease`},children:[s.jsx(r,{type:"target",position:l.Top,id:"top",style:{background:"#555"}}),s.jsx(r,{type:"source",position:l.Bottom,id:"bottom",style:{background:"#555"}}),s.jsx(r,{type:"target",position:l.Left,id:"left",style:{background:"#555"}}),s.jsx(r,{type:"source",position:l.Right,id:"right",style:{background:"#555"}}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:8},children:[s.jsx("div",{style:{fontSize:16},children:"⚙️"}),s.jsx("div",{style:{fontSize:14,fontWeight:600,color:"#1f2937",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",flex:1},title:e.label,children:e.label}),n&&s.jsx("button",{onClick:o=>{o.stopPropagation(),t&&d&&d(t)},"aria-label":i?"Collapse subprocesses":"Expand subprocesses","aria-expanded":i,style:{background:"transparent",border:"1px solid #9ca3af",borderRadius:4,width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:12,color:"#6b7280",padding:0,lineHeight:1},onMouseDown:o=>o.stopPropagation(),children:i?"−":"+"})]}),s.jsxs("div",{style:{display:"flex",gap:4,flexWrap:"wrap"},children:[e.owner&&s.jsx("div",{style:{fontSize:10,padding:"2px 6px",background:"#e0e0e0",borderRadius:4,color:"#424242"},title:"Owner",children:e.owner}),e.criticality&&s.jsx("div",{style:{fontSize:10,padding:"2px 6px",borderRadius:4,background:e.criticality==="high"?"#ffebee":e.criticality==="medium"?"#fff3e0":"#e8f5e9",color:e.criticality==="high"?"#c62828":e.criticality==="medium"?"#e65100":"#2e7d32",fontWeight:600},title:"Criticality",children:e.criticality}),!i&&n&&s.jsxs("div",{style:{fontSize:10,padding:"2px 6px",background:"#e3f2fd",borderRadius:4,color:"#1565c0"},title:"Subprocess count",children:[e.subprocessCount," steps"]})]}),i&&n&&e.subprocesses&&s.jsxs("div",{style:{marginTop:12,paddingTop:12,borderTop:"1px solid #d1d5db",fontSize:11,color:"#374151",maxHeight:"300px",overflowY:"auto"},children:[s.jsxs("div",{style:{fontSize:10,fontWeight:600,color:"#6b7280",marginBottom:6,textTransform:"uppercase",letterSpacing:"0.5px"},children:["Subprocesses (",e.subprocesses.length,")"]}),e.subprocesses.map(o=>s.jsx("div",{style:{padding:"4px 8px",marginBottom:2,background:"#f9fafb",borderRadius:4,borderLeft:"2px solid #e65100",fontSize:11},title:o.description||o.name,children:o.name},o.id))]})]})});p.displayName="BusinessProcessNode";p.__docgenInfo={description:`Business Process Node Component for React Flow
Displays business processes with metadata (owner, criticality, lifecycle, subprocess count)
Supports expand/collapse for processes with subprocesses

NOTE: This component is store-agnostic and receives expanded state via props.
Parent components are responsible for managing the expandedNodes state and calling onToggleExpanded.`,methods:[],displayName:"BusinessProcessNode",props:{data:{required:!0,tsType:{name:"BusinessProcessNodeData"},description:""},id:{required:!1,tsType:{name:"string"},description:""},expandedNodes:{required:!1,tsType:{name:"Set",elements:[{name:"string"}],raw:"Set<string>"},description:"Set of expanded node IDs (optional - if not provided, all nodes are shown expanded)",defaultValue:{value:"new Set()",computed:!1}},onToggleExpanded:{required:!1,tsType:{name:"signature",type:"function",raw:"(nodeId: string) => void",signature:{arguments:[{type:{name:"string"},name:"nodeId"}],return:{name:"void"}}},description:"Callback to toggle node expanded state (optional)"}}};export{p as B,c as a,x as b};
