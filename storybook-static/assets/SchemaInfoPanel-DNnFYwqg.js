import{j as e}from"./iframe-DSSgKmXl.js";import{u as k}from"./modelStore-D8PMC_DL.js";const N=({className:u="",specDataError:n=null})=>{var i,l,o,c,m,x,g,h;const{model:t}=k();if(!t)return null;const y=((i=t.metadata)==null?void 0:i.version)||t.version||"Unknown",v=((l=t.metadata)==null?void 0:l.lastModified)||((o=t.metadata)==null?void 0:o.generatedDate)||((c=t.metadata)==null?void 0:c.modified)||"Unknown",b=((m=t.metadata)==null?void 0:m.schemaVersion)||"Unknown",f=((x=t.metadata)==null?void 0:x.elementCount)||0,j=t.layers?Object.keys(t.layers).length:0,d=((g=t.metadata)==null?void 0:g.valid)??!0,s=((h=t.metadata)==null?void 0:h.validationErrors)||[],p=a=>{if(a==="Unknown")return a;try{const r=new Date(a);return isNaN(r.getTime())?(console.warn("[SchemaInfoPanel] Invalid date string provided:",a),a):r.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(r){return console.warn("[SchemaInfoPanel] Date parsing error:",r,"for string:",a),a}};return e.jsxs("div",{className:`p-4 border-t border-gray-200 dark:border-gray-700 ${u}`,"data-testid":"schema-info-panel",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Schema Info"}),e.jsx("span",{className:`text-xs px-2 py-1 rounded ${d?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:d?"✓ Valid":"✗ Invalid"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Version"}),e.jsx("div",{className:"text-sm font-mono text-gray-900 dark:text-white",children:y})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Schema Version"}),e.jsx("div",{className:"text-sm font-mono text-gray-900 dark:text-white",children:b})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 mb-1",children:"Last Modified"}),e.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:p(v)})]}),e.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[e.jsx("div",{className:"text-lg font-semibold text-blue-600 dark:text-blue-400",children:j}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Layers"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-800 rounded",children:[e.jsx("div",{className:"text-lg font-semibold text-blue-600 dark:text-blue-400",children:f}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Elements"})]})]})}),n&&e.jsxs("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"text-xs font-medium text-red-600 dark:text-red-400 mb-2",children:"Schema Load Error"}),e.jsx("div",{className:"text-xs text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 p-2 rounded",children:n})]}),!d&&s.length>0&&e.jsxs("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"text-xs font-medium text-red-600 dark:text-red-400 mb-2",children:["Validation Errors (",s.length,")"]}),e.jsxs("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:[s.slice(0,5).map((a,r)=>e.jsx("div",{className:"text-xs text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 p-2 rounded",children:a},r)),s.length>5&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 italic",children:["... and ",s.length-5," more"]})]})]})]})]})};N.__docgenInfo={description:"SchemaInfoPanel Component",methods:[],displayName:"SchemaInfoPanel",props:{className:{required:!1,tsType:{name:"string"},description:"Additional CSS classes",defaultValue:{value:"''",computed:!1}},specDataError:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"Error message from spec data loading",defaultValue:{value:"null",computed:!1}}}};export{N as S};
